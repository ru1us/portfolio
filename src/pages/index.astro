---
import Layout from '../layouts/Layout.astro';
---
<Layout title="Portfolio — Overview">
  <!-- Hero Section - Full Width, 80% Height -->
  <section id="hero" class="w-full h-[80vh] flex flex-col justify-center mx-auto scroll-fade">
    <!-- Header: Name & Title - Full Width -->
    <div class="w-full text-center mb-20">
      <h1 class="text-8xl font-heading font-bold mb-6">
        <span class="gradient-text">I'm Rufus</span> <span class="text-sm font-normal italic ">(Latin: "red")</span>
      </h1>
      <h2 class="text-4xl mb-8">
        Red isn't just a color — it's my <span class="text-red-600">name.</span>
      </h2>
      <h3 class="text-4xl font-heading font-light text-slate-500">
        Mediadesign
      </h3>
    </div>

    <!-- 4 Boxes in a Row - Full Width -->
    <div class="w-full grid grid-cols-4 gap-6">
        <!-- 1. Skills Box -->
        <div class="border border-slate-400 p-6 w-full h-full flex flex-col justify-start card-3d">
          <h3 class="font-heading font-bold text-base mb-3 text-slate-900">Skills</h3>
          <ul class="text-sm text-slate-700 space-y-2">
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>3D Modeling & Rendering</li>
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>UI/UX Design</li>
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>Graphic Design</li>
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>Brand Design</li>
          </ul>
        </div>
        
        <!-- 2. Tools Box -->
        <div class="border border-slate-400 p-6 w-full h-full flex flex-col justify-start card-3d">
          <h3 class="font-heading font-bold text-base mb-3 text-slate-900">Tools</h3>
          <ul class="text-sm text-slate-700 space-y-2">
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>Adobe Creative Cloud (Ps, Ai, Id, Pr, Ae, ...)</li>
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>Blender</li>
            <li class="flex items-center"><span class="w-3 h-3 bg-slate-400 mr-3"></span>SolidWorks</li>
          </ul>
        </div>
        
        <!-- 3. About Me Box -->
        <div class="border border-slate-400 p-6 w-full h-full flex flex-col justify-start card-3d cursor-pointer hover:border-slate-500 transition-colors relative" onclick="window.location.href='/about'">
          <!-- Arrow Icon -->
          <div class="absolute top-4 right-4 w-5 h-5 text-red-600 hover:text-red-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
              <path d="m256-240-56-56 384-384H240v-80h480v480h-80v-344L256-240Z"/>
            </svg>
          </div>
          
          <h3 class="font-heading font-bold text-base mb-3 text-slate-900">About Me</h3>
          <p class="text-sm text-slate-700">Brief description about myself and my background.</p>
        </div>
        
        <!-- 4. All Projects Box -->
        <div class="border border-slate-400 p-6 w-full h-full flex flex-col justify-start card-3d cursor-pointer hover:border-slate-500 transition-colors relative" onclick="window.location.href='/projects'">
          <!-- Arrow Icon -->
          <div class="absolute top-4 right-4 w-5 h-5 text-red-600 hover:text-red-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
              <path d="m256-240-56-56 384-384H240v-80h480v480h-80v-344L256-240Z"/>
            </svg>
          </div>
          
          <h3 class="font-heading font-bold text-base mb-3 text-slate-900">All Projects</h3>
        </div>
      </div>
    </div>
  </section>

  <!-- Case Study Section -->
  <section id="case-study" class="py-16 container scroll-fade">
    <h2 class="text-2xl font-semibold mb-4">Case Study — Project Name</h2>
    
  </section>

  <!-- More Projects Section -->
  <section id="more-projects" class="py-16 container scroll-fade">
    <h2 class="text-2xl font-semibold mb-6">More Projects</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bg-white p-4 rounded shadow">Project A</div>
      <div class="bg-white p-4 rounded shadow">Project B</div>
      <div class="bg-white p-4 rounded shadow">Project C</div>
    </div>
  </section>
</Layout>

<script>
  // Card Tilt Effect - Only for Index Page
  class CardTiltEffect {
    constructor() {
      this.cards = [];
      this.init();
    }

    init() {
      const cardElements = document.querySelectorAll('.card-3d');
      
      cardElements.forEach(card => {
        this.setupCard(card);
      });
    }

    setupCard(cardElement) {
      const cardData = {
        element: cardElement,
        maxTilt: 8, // Subtle effect
      };

      this.cards.push(cardData);

      // Add event listeners
      cardElement.addEventListener('mousemove', (e) => this.onMouseMove(e, cardData));
      cardElement.addEventListener('mouseleave', (e) => this.onMouseLeave(e, cardData));
    }

    onMouseMove(event, cardData) {
      const card = cardData.element;
      const rect = card.getBoundingClientRect();
      
      // Calculate mouse position relative to card (0 to 1)
      const x = (event.clientX - rect.left) / rect.width;
      const y = (event.clientY - rect.top) / rect.height;
      
      // Convert to rotation values (-1 to 1, then to degrees)
      const rotateY = (x - 0.5) * 2 * cardData.maxTilt;
      const rotateX = (y - 0.5) * -2 * cardData.maxTilt;
      
      // Apply subtle rotation
      card.style.transform = `
        perspective(1000px) 
        rotateX(${rotateX}deg) 
        rotateY(${rotateY}deg) 
        scale3d(1.02, 1.02, 1.02)
      `;
    }

    onMouseLeave(event, cardData) {
      // Return to original position
      cardData.element.style.transform = `
        perspective(1000px) 
        rotateX(0deg) 
        rotateY(0deg) 
        scale3d(1, 1, 1)
      `;
    }
  }

  // Mouse-tracked Gradient Effect
  class MouseGradientEffect {
    private gradientText: HTMLElement;
    
    constructor() {
      this.gradientText = document.querySelector('.gradient-text') as HTMLElement;
      if (this.gradientText) {
        this.init();
      }
    }

    init() {
      // Track mouse movement across the entire viewport
      document.addEventListener('mousemove', (e: MouseEvent) => {
        const mouseX = e.clientX;
        const windowWidth = window.innerWidth;
        
        // Map mouse position to a ratio (0 to 1)
        const ratio = mouseX / windowWidth;
        
        // Create a bell curve effect - maximum red at center (0.5), black at edges (0 and 1)
        // Using a parabolic function: intensity peaks at center
        let intensity;
        if (ratio <= 0.5) {
          // Left half: goes from 0 (at 0) to 1 (at 0.5)
          intensity = ratio * 2;
        } else {
          // Right half: goes from 1 (at 0.5) to 0 (at 1)
          intensity = 2 - (ratio * 2);
        }
        
        // Square the intensity for sharper curve (more black, only center is red)
        intensity = Math.pow(intensity, 2);
        
        // Interpolate from black to red based on intensity
        const r = Math.round(220 * intensity);
        const g = Math.round(38 * intensity);
        const b = Math.round(38 * intensity);
        
        this.gradientText.style.color = `rgb(${r}, ${g}, ${b})`;
      });

      // Reset to black on mouse leave
      document.addEventListener('mouseleave', () => {
        this.gradientText.style.color = '#000000';
      });
    }
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    new CardTiltEffect();
    new MouseGradientEffect();
  });
</script>
